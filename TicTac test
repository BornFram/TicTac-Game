class Player:
    icon = str
    lastCord = []
    curCord = []
    possiblCord = []
    impossiblCord = []


class Field:
    line = 5
    column = 5
    field = []
    contur = []
    '''numpad = [[7, 8, 9],
              [4, 5, 6],
              [1, 2, 3]]'''
    '''prod = [[' ', ' ', ' '],
            [' ', ' ', ' '],
            [' ', ' ', ' ']]'''

    def generateField(self):
        for i in range(self.line):
            self.field.append([])
            q = True
            for j in range(self.column):
                if q:
                    self.field[i].append(" ")
                    '''q = False
                else:
                    self.field[i].append("|")
                    q = True'''
        self.contur.append(list(range(len(self.field) + 2)))
        self.contur.append(list(range(len(self.field[0]) + 2)))

    def output(self):
        s = 0
        tline = str
        for i in range(1, self.line + 1):
            tline.append(str(i))  # ????
            tline.append('|')  # ????
        print(' ' + tline)
        for i in range(len(self.field)):
            line = ''
            liiine = ''
            for j in range(len(self.field[i])):
                if j < (len(self.field[i]) - 1):
                    line += str(self.field[i][j]) + '|'
                else:
                    line += str(self.field[i][j])
            line = str(i) + "|" + line
            print(line)
            for j in range(len(line)):
                if s < (len(self.field) - 1):
                    liiine += '-'
            s += 1
            print(liiine)


class Game:

    def WinCondition(self, field, symbol, len_wc):
        current_len = 0
        #---поиск по горизонтали---#
        for i in range(len(field)):
            current_len = 0
            for j in range(len(field[i])):
                if field[i][j] == symbol:
                    current_len += 1
                else:
                    current_len = 0
                if current_len == len_wc:
                    return True
        #--------------------------#
        #---поиск по вертикали---#
        for i in range(len(field[0])):
            current_len = 0
            for j in range(len(field)):
                if field[j][i] == symbol:
                    current_len += 1
                else:
                    current_len = 0
                if current_len == len_wc:
                    return True
        #------------------------#
        #---поиск по диагонали---#
        if len(field) >= len(field[0]):
            for i in range(len(field)):
                current_len = 0
                for j in range(len(field[i])):
                    if j + i < len(field[j]):
                        if field[j][j + i] == symbol:
                            current_len += 1
                        else:
                            current_len = 0
                if current_len == len_wc:
                    return True
        else:
            for i in range(len(field[0])):
                current_len = 0
                for j in range(len(field)):
                    if j + i < len(field[j]):
                        if field[j][j + i] == symbol:
                            current_len += 1
                        else:
                            current_len = 0
                        if current_len == len_wc:
                            return True

        for i in range(len(field)):
            field[i] = field[i][::-1]
        if len(field) >= len(field[0]):
            for i in range(len(field)):
                current_len = 0
                for j in range(len(field[i])):
                    if j + i < len(field[j]):
                        if field[j][j + i] == symbol:
                            current_len += 1
                        else:
                            current_len = 0
                        if current_len == len_wc:
                            return True
        else:
            for i in range(len(field[0])):
                current_len = 0
                for j in range(len(field)):
                    if j + i < len(field[j]):
                        if field[j][j + i] == symbol:
                            current_len += 1
                        else:
                            current_len = 0
                        if current_len == len_wc:
                            return True
        for i in range(len(field)):
            field[i] = field[i][::-1]
        #------------------------#
        return False

    def startGame(self):
        field = Field()
        plov1 = Player()
        plov2 = Player()
        curPlov = plov1
        change = 1
        print("first player: enter your sign")
        plov1.icon = input()
        print("second player: enter your sign")
        plov2.icon = input()
        field.generateField()
        print('line: ' + str(len(field.field)) + '; column: ' + str(len(field.field[0])))
        # print(field.field)
        # field.output()

        while not(self.WinCondition(field.field, curPlov.icon, 3)):
            if change == 1:  # смена хода
                print("first player's move (" + plov1.icon + ")")
                change = 2
                curPlov = plov1
            else:
                print("second player's move (" + plov2.icon + ")")
                change = 1
                curPlov = plov2
            enter = str(input())
            curPlov.curCord.clear()
            curPlov.curCord.append(int(enter[0]) - 1)
            curPlov.curCord.append(int(enter[2]) - 1)
            field.field[curPlov.curCord[0]][curPlov.curCord[1]] = curPlov.icon
            field.output()
            if change == 1:  # запись полученных значений в нужного игрока
                plov2 = curPlov
            else:
                plov1 = curPlov

        enter = str
        print('enter "end" to exit')
        while enter != "end":  # нужно, чтобы игра не закрылась сразу(только для консольного режима)
            enter = input()
            print('enter "end" to exit')


gumer = Game()
gumer.startGame()
